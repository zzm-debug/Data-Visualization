{"version":3,"sources":["heatmap-toggle.js"],"names":["currentMode","toggleBtn","document","getElementById","console","error","container3D","container2D","updateButtonText","toggleText","querySelector","textContent","toggleMode","style","display","window","updateHeatmapOverlayMode","e","log","concat","addEventListener"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;AAEA,CAAC,YAAM;EACL,IAAIA,WAAW,GAAG,IAAI;EAEtB,IAAMC,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC;EAC3D,IAAI,CAACF,SAAS,EAAE;IACdG,OAAO,CAACC,KAAK,CAAC,WAAW,CAAC;IAC1B;EACF;EAEA,IAAMC,WAAW,GAAGJ,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;EACzD,IAAMI,WAAW,GAAGL,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;EAEzD,IAAI,CAACG,WAAW,IAAI,CAACC,WAAW,EAAE;IAChCH,OAAO,CAACC,KAAK,CAAC,YAAY,CAAC;IAC3B;EACF;EAEA,SAASG,gBAAgBA,CAAA,EAAG;IAC1B,IAAMC,UAAU,GAAGR,SAAS,CAACS,aAAa,CAAC,cAAc,CAAC;IAC1D,IAAID,UAAU,EAAE;MACdA,UAAU,CAACE,WAAW,GAAGX,WAAW;IACtC;EACF;EAEA,SAASY,UAAUA,CAAA,EAAG;IACpB,IAAIZ,WAAW,KAAK,IAAI,EAAE;MACxBA,WAAW,GAAG,IAAI;MAClBM,WAAW,CAACO,KAAK,CAACC,OAAO,GAAG,MAAM;MAClCP,WAAW,CAACM,KAAK,CAACC,OAAO,GAAG,OAAO;IACrC,CAAC,MAAM;MACLd,WAAW,GAAG,IAAI;MAClBO,WAAW,CAACM,KAAK,CAACC,OAAO,GAAG,MAAM;MAClCR,WAAW,CAACO,KAAK,CAACC,OAAO,GAAG,OAAO;IACrC;IACAN,gBAAgB,CAAC,CAAC;IAClB;IACA,IAAI;MACF,IAAI,OAAOO,MAAM,CAACC,wBAAwB,KAAK,UAAU,EAAE;QACzDD,MAAM,CAACC,wBAAwB,CAAChB,WAAW,CAAC;MAC9C;IACF,CAAC,CAAC,OAAOiB,CAAC,EAAE,CAAC;IACbb,OAAO,CAACc,GAAG,6BAAAC,MAAA,CAASnB,WAAW,iBAAI,CAAC;EACtC;EAEAC,SAAS,CAACmB,gBAAgB,CAAC,OAAO,EAAER,UAAU,CAAC;EAC/CJ,gBAAgB,CAAC,CAAC;;EAElB;EACAF,WAAW,CAACO,KAAK,CAACC,OAAO,GAAG,OAAO;EACnCP,WAAW,CAACM,KAAK,CAACC,OAAO,GAAG,MAAM;EAElCV,OAAO,CAACc,GAAG,CAAC,iBAAiB,CAAC;AAChC,CAAC,EAAE,CAAC","file":"heatmap-toggle.916230c1.js","sourceRoot":"..\\src","sourcesContent":["// ============================================\n// heatmap-toggle.js - 2D/3D热力图切换控制器（最简单版本：只切换显示/隐藏）\n// ============================================\n\n(() => {\n  let currentMode = '3D';\n  \n  const toggleBtn = document.getElementById('heatmap-toggle');\n  if (!toggleBtn) {\n    console.error('❌ 找不到切换按钮');\n    return;\n  }\n  \n  const container3D = document.getElementById('heatmap-3d');\n  const container2D = document.getElementById('heatmap-2d');\n  \n  if (!container3D || !container2D) {\n    console.error('❌ 找不到热力图容器');\n    return;\n  }\n  \n  function updateButtonText() {\n    const toggleText = toggleBtn.querySelector('.toggle-text');\n    if (toggleText) {\n      toggleText.textContent = currentMode;\n    }\n  }\n  \n  function toggleMode() {\n    if (currentMode === '3D') {\n      currentMode = '2D';\n      container3D.style.display = 'none';\n      container2D.style.display = 'block';\n    } else {\n      currentMode = '3D';\n      container2D.style.display = 'none';\n      container3D.style.display = 'block';\n    }\n    updateButtonText();\n    // ✅ 同步更新热力图面板右上角徽标（由 heatmap.js 注入 window.updateHeatmapOverlayMode）\n    try {\n      if (typeof window.updateHeatmapOverlayMode === 'function') {\n        window.updateHeatmapOverlayMode(currentMode);\n      }\n    } catch (e) {}\n    console.log(`✅ 切换到${currentMode}模式`);\n  }\n  \n  toggleBtn.addEventListener('click', toggleMode);\n  updateButtonText();\n  \n  // 确保初始状态正确\n  container3D.style.display = 'block';\n  container2D.style.display = 'none';\n  \n  console.log('✅ 热力图切换控制器初始化完成');\n})();\n"]}