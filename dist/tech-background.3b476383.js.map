{"version":3,"sources":["tech-background.js"],"names":["initDotPattern","canvas","document","getElementById","createElement","id","className","style","cssText","body","appendChild","ctx","getContext","dpr","window","devicePixelRatio","width","innerWidth","height","innerHeight","draw","scale","spacing","dotSize","opacity","fillStyle","concat","x","y","beginPath","arc","Math","PI","fill","resizeTimer","addEventListener","clearTimeout","setTimeout","initWaveAnimation","time","animationId","resize","drawWave","clearRect","waves","amplitude","frequency","speed","color","offset","forEach","wave","index","strokeStyle","lineWidth","yBase","sin","moveTo","lineTo","stroke","gradient","createLinearGradient","addColorStop","replace","lightBands","i","bandY","bandWidth","bandX","bandGradient","fillRect","requestAnimationFrame","hidden","cancelAnimationFrame","init","readyState"],"mappings":"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","file":"tech-background.3b476383.js","sourceRoot":"..\\src","sourcesContent":["// ==============================\r\n// 科技风数据大屏背景效果\r\n// 第2层：点阵纹理生成\r\n// 第3层：动态波纹/流光动画\r\n// ==============================\r\n\r\n(function() {\r\n  'use strict';\r\n\r\n  // ==============================\r\n  // 第2层：点阵纹理生成\r\n  // ==============================\r\n  function initDotPattern() {\r\n    let canvas = document.getElementById('dot-pattern');\r\n    if (!canvas) {\r\n      canvas = document.createElement('canvas');\r\n      canvas.id = 'dot-pattern';\r\n      canvas.className = 'bg-layer';\r\n      canvas.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none;opacity:0.6;';\r\n      document.body.appendChild(canvas);\r\n    }\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    const dpr = window.devicePixelRatio || 1;\r\n    let width = window.innerWidth;\r\n    let height = window.innerHeight;\r\n    \r\n    function draw() {\r\n      canvas.width = width * dpr;\r\n      canvas.height = height * dpr;\r\n      ctx.scale(dpr, dpr);\r\n      canvas.style.width = width + 'px';\r\n      canvas.style.height = height + 'px';\r\n      \r\n      const spacing = 20; // 点间距\r\n      const dotSize = 1.5; // 点大小\r\n      const opacity = 0.08; // 透明度\r\n      \r\n      ctx.fillStyle = `rgba(139, 92, 246, ${opacity})`; // 紫色点\r\n      \r\n      for (let x = 0; x < width; x += spacing) {\r\n        for (let y = 0; y < height; y += spacing) {\r\n          ctx.beginPath();\r\n          ctx.arc(x, y, dotSize, 0, Math.PI * 2);\r\n          ctx.fill();\r\n        }\r\n      }\r\n    }\r\n    \r\n    draw();\r\n    \r\n    // 窗口大小改变时重新绘制\r\n    let resizeTimer;\r\n    window.addEventListener('resize', () => {\r\n      clearTimeout(resizeTimer);\r\n      resizeTimer = setTimeout(() => {\r\n        width = window.innerWidth;\r\n        height = window.innerHeight;\r\n        draw();\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  // ==============================\r\n  // 第3层：动态波纹/流光动画\r\n  // ==============================\r\n  function initWaveAnimation() {\r\n    let canvas = document.getElementById('wave-animation');\r\n    if (!canvas) {\r\n      canvas = document.createElement('canvas');\r\n      canvas.id = 'wave-animation';\r\n      canvas.className = 'bg-layer';\r\n      canvas.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;z-index:2;pointer-events:none;opacity:0.4;';\r\n      document.body.appendChild(canvas);\r\n    }\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    const dpr = window.devicePixelRatio || 1;\r\n    let width = window.innerWidth;\r\n    let height = window.innerHeight;\r\n    let time = 0;\r\n    let animationId = null;\r\n    \r\n    function resize() {\r\n      width = window.innerWidth;\r\n      height = window.innerHeight;\r\n      canvas.width = width * dpr;\r\n      canvas.height = height * dpr;\r\n      ctx.scale(dpr, dpr);\r\n      canvas.style.width = width + 'px';\r\n      canvas.style.height = height + 'px';\r\n    }\r\n    \r\n    resize();\r\n    \r\n    window.addEventListener('resize', () => {\r\n      resize();\r\n    });\r\n    \r\n    function drawWave() {\r\n      ctx.clearRect(0, 0, width, height);\r\n      \r\n      // 创建多个波形层\r\n      const waves = [\r\n        { amplitude: 30, frequency: 0.01, speed: 0.02, color: 'rgba(88, 101, 242, 0.3)', offset: 0 },\r\n        { amplitude: 40, frequency: 0.008, speed: 0.015, color: 'rgba(139, 92, 246, 0.25)', offset: Math.PI / 3 },\r\n        { amplitude: 25, frequency: 0.012, speed: 0.025, color: 'rgba(59, 130, 246, 0.2)', offset: Math.PI / 2 }\r\n      ];\r\n      \r\n      waves.forEach((wave, index) => {\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = wave.color;\r\n        ctx.lineWidth = 2;\r\n        \r\n        const yBase = height * (0.3 + index * 0.2);\r\n        \r\n        for (let x = 0; x < width; x += 2) {\r\n          const y = yBase + \r\n            Math.sin(x * wave.frequency + time * wave.speed + wave.offset) * wave.amplitude +\r\n            Math.sin(x * wave.frequency * 2 + time * wave.speed * 1.5) * wave.amplitude * 0.5;\r\n          \r\n          if (x === 0) {\r\n            ctx.moveTo(x, y);\r\n          } else {\r\n            ctx.lineTo(x, y);\r\n          }\r\n        }\r\n        \r\n        ctx.stroke();\r\n        \r\n        // 添加渐变填充\r\n        const gradient = ctx.createLinearGradient(0, yBase - wave.amplitude, 0, yBase + wave.amplitude);\r\n        gradient.addColorStop(0, wave.color.replace('0.3', '0.1').replace('0.25', '0.08').replace('0.2', '0.06'));\r\n        gradient.addColorStop(1, wave.color.replace('0.3', '0').replace('0.25', '0').replace('0.2', '0'));\r\n        \r\n        ctx.fillStyle = gradient;\r\n        ctx.fill();\r\n      });\r\n      \r\n      // 横向流动的光带\r\n      const lightBands = 3;\r\n      for (let i = 0; i < lightBands; i++) {\r\n        const bandY = (height / (lightBands + 1)) * (i + 1);\r\n        const bandWidth = width * 0.3;\r\n        const bandX = (time * 100 + i * width * 0.3) % (width + bandWidth) - bandWidth;\r\n        \r\n        const bandGradient = ctx.createLinearGradient(bandX, bandY - 20, bandX + bandWidth, bandY + 20);\r\n        bandGradient.addColorStop(0, 'rgba(88, 101, 242, 0)');\r\n        bandGradient.addColorStop(0.5, 'rgba(88, 101, 242, 0.15)');\r\n        bandGradient.addColorStop(1, 'rgba(88, 101, 242, 0)');\r\n        \r\n        ctx.fillStyle = bandGradient;\r\n        ctx.fillRect(bandX, bandY - 20, bandWidth, 40);\r\n      }\r\n      \r\n      time += 0.016; // 约60fps\r\n      animationId = requestAnimationFrame(drawWave);\r\n    }\r\n    \r\n    drawWave();\r\n    \r\n    // 页面可见性API，隐藏时暂停动画\r\n    document.addEventListener('visibilitychange', () => {\r\n      if (document.hidden) {\r\n        if (animationId) {\r\n          cancelAnimationFrame(animationId);\r\n          animationId = null;\r\n        }\r\n      } else {\r\n        if (!animationId) {\r\n          drawWave();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // ==============================\r\n  // 初始化\r\n  // ==============================\r\n  function init() {\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', () => {\r\n        initDotPattern();\r\n        initWaveAnimation();\r\n      });\r\n    } else {\r\n      initDotPattern();\r\n      initWaveAnimation();\r\n    }\r\n  }\r\n\r\n  init();\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}