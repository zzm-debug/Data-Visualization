{"id":"index.html","dependencies":[{"name":"./style.css","dynamic":true,"resolved":"E:\\数据可视化\\music\\src\\style.css","parent":"E:\\数据可视化\\music\\src\\index.html"},{"name":"./词云图.png","dynamic":true,"resolved":"E:\\数据可视化\\music\\src\\词云图.png","parent":"E:\\数据可视化\\music\\src\\index.html"},{"name":"./所有歌单_风格分布_柱状图.png","dynamic":true,"resolved":"E:\\数据可视化\\music\\src\\所有歌单_风格分布_柱状图.png","parent":"E:\\数据可视化\\music\\src\\index.html"},{"name":"./app.js","dynamic":true,"resolved":"E:\\数据可视化\\music\\src\\app.js","parent":"E:\\数据可视化\\music\\src\\index.html"},{"name":"./tree.js","dynamic":true,"resolved":"E:\\数据可视化\\music\\src\\tree.js","parent":"E:\\数据可视化\\music\\src\\index.html"},{"name":"./heatmap.js","dynamic":true,"resolved":"E:\\数据可视化\\music\\src\\heatmap.js","parent":"E:\\数据可视化\\music\\src\\index.html"},{"name":"./script.js","dynamic":true,"resolved":"E:\\数据可视化\\music\\src\\script.js","parent":"E:\\数据可视化\\music\\src\\index.html"},{"name":"_css_loader","parent":"E:\\数据可视化\\music\\src\\index.html","resolved":"E:\\数据可视化\\music\\node_modules\\parcel-bundler\\src\\builtins\\css-loader.js"},{"name":"E:\\数据可视化\\music\\package.json","includedInParent":true,"mtime":1766824686125}],"generated":{"html":"<!DOCTYPE html>\r\n<html lang=\"zh-CN\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Global Music Insights Dashboard</title>\r\n\r\n  <!-- D3 & TopoJSON -->\r\n  <script src=\"https://d3js.org/d3.v7.min.js\"></script>\r\n  <script src=\"https://unpkg.com/topojson@3\"></script>\r\n\r\n  <!-- 引入样式 (如果有) -->\r\n  <link rel=\"stylesheet\" href=\"/da232d78aa810382f2dcdceae308ff8e.css\">\r\n\r\n  <style>/* ==============================\r\n       1. 全局浅色无边界风格 (Light & Borderless)\r\n       ============================== */\r\n    :root {\r\n     \r\n      --bg-color: #ECE8DC;       \r\n      \r\n      /* 深色文字，高对比度 */\r\n      --text-main: #2c3e50;      \r\n      --text-muted: #5d6d7e;     \r\n      \r\n      /* 强调色：选用了适合米色的深蓝色，或者你可以换成砖红色 #c0392b */\r\n      --accent-color: #2980b9;   \r\n      \r\n      /* 模块间距 */\r\n      --panel-gap: 20px;         \r\n      \r\n      /* ===== 新增：设计稿基准尺寸 ===== */\r\n      --design-width: 1920;\r\n      --design-height: 1080;\r\n    }\r\n\r\n    /* ===== 新增：外层容器用于缩放 ===== */\r\n    html, body {\r\n      margin: 0;\r\n      padding: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      overflow: hidden;\r\n      background-color: var(--bg-color);\r\n    }\r\n\r\n    /* 缩放包装器 */\r\n    .scale-wrapper {\r\n      width: 1920px;\r\n      height: 1080px;\r\n      transform-origin: top left;\r\n      /* transform 由 JS 动态设置 */\r\n    }\r\n\r\n    .dashboard-container {\r\n      font-family: \"Segoe UI\", \"Microsoft YaHei\", sans-serif;\r\n      background-color: var(--bg-color);\r\n      color: var(--text-main);\r\n      padding: 20px;\r\n      width: 100%;\r\n      height: 100%;\r\n      box-sizing: border-box;\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n\r\n    /* 顶部标题栏 */\r\n    header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding-bottom: 10px;\r\n      /* 使用极淡的线条，或者直接去掉 border-bottom: none; 彻底无界 */\r\n      border-bottom: 1px solid rgba(0,0,0,0.05); \r\n      margin-bottom: 20px;\r\n      flex-shrink: 0;\r\n    }\r\n\r\n    h1 { \r\n      margin: 0; \r\n      font-size: 26px; \r\n      font-weight: 600; \r\n      color: #333; \r\n      letter-spacing: 1px;\r\n    }\r\n    .subtitle { \r\n      font-size: 14px; \r\n      color: var(--text-muted); \r\n      margin-left: 10px;\r\n    }\r\n\r\n    /* ==============================\r\n       2. 核心布局：3列结构 (Left / Center / Right)\r\n       ============================== */\r\n    .dashboard-grid {\r\n      flex: 1; \r\n      display: grid;\r\n      /* 比例：左侧 1fr，中间树图给宽一点 1.3fr，右侧 1fr */\r\n      grid-template-columns: 0.8fr 1.8fr 0.8fr;\r\n      gap: var(--panel-gap);\r\n      min-height: 0;\r\n    }\r\n\r\n    /* 列容器 */\r\n    .column {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: var(--panel-gap);\r\n      height: 100%;\r\n      min-height: 0;\r\n    }\r\n\r\n    /* ==============================\r\n       3. 图表面板 (完全透明，无框)\r\n       ============================== */\r\n    .chart-panel {\r\n      flex: 1; /* 自动撑满列高 */\r\n      position: relative;\r\n      display: flex;\r\n      flex-direction: column;\r\n      \r\n      /* 关键：透明背景，无边框，无阴影 */\r\n      background: transparent;\r\n      border: none;\r\n      box-shadow: none;\r\n      \r\n      overflow: hidden;\r\n      min-height: 0;\r\n    }\r\n\r\n    .panel-header {\r\n      font-size: 15px;\r\n      font-weight: 600;\r\n      color: var(--text-main); /* 标题改用深色 */\r\n      margin-bottom: 8px;\r\n      padding-left: 0; /* 去掉缩进 */\r\n      /* 去掉左侧竖线装饰，让它更像原来的图片 */\r\n      /* border-left: 3px solid var(--accent-color); */\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.5px;\r\n      flex-shrink: 0;\r\n      \r\n      /* 可以在标题下加一个小装饰点或线，或者什么都不加 */\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n    }\r\n    /* 标题前的小圆点装饰 (可选) */\r\n    .panel-header::before {\r\n      content: '';\r\n      width: 8px;\r\n      height: 8px;\r\n      background-color: var(--accent-color);\r\n      border-radius: 50%;\r\n      display: inline-block;\r\n    }\r\n\r\n    .chart-content {\r\n      flex: 1;\r\n      width: 100%;\r\n      height: 100%;\r\n      position: relative;\r\n    }\r\n\r\n    /* 图片自适应 */\r\n    .chart-img {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: contain; /* 保持比例 */\r\n      display: block;\r\n      /* 稍微降低一点点透明度，让图片像印在纸上一样 (可选) */\r\n      opacity: 0.95; \r\n    }\r\n    \r\n    #heatmap { display: flex; align-items: center; justify-content: center; }\r\n\r\n    /* ==============================\r\n       4. D3 图表浅色适配 (Light Theme Override)\r\n       这里把原来针对深色背景的白色文字，改回深色文字\r\n       ============================== */\r\n    \r\n    /* 坐标轴文字改为深灰 */\r\n    svg text { \r\n      fill: #444 !important; \r\n      font-family: sans-serif;\r\n    }\r\n    \r\n    /* 坐标轴线条改为浅灰 */\r\n    .domain, .tick line { \r\n      stroke: rgba(0,0,0,0.15) !important; \r\n    }\r\n    \r\n    /* ===== 修复：地图国家样式 ===== */\r\n    /* 移除 fill: #ffffff，让JS动态设置的颜色生效 */\r\n    .country { \r\n      /* fill 由 JS 动态设置，这里不再指定 */\r\n      stroke: #999; \r\n      stroke-width: 0.5px; \r\n      transition: fill 0.2s, stroke 0.2s; \r\n      cursor: pointer;\r\n    }\r\n    .country:hover { \r\n      stroke: #333;\r\n      stroke-width: 1px;\r\n      filter: brightness(1.1);\r\n    }\r\n\r\n    /* ===== 新增：地图容器样式 ===== */\r\n    #map {\r\n      position: relative;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    \r\n    #map svg {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n\r\n    /* ===== 新增：图例样式 ===== */\r\n    #legend {\r\n      position: absolute;\r\n      bottom: 10px;\r\n      left: 10px;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      gap: 8px;\r\n      max-width: 90%;\r\n      background: rgba(255,255,255,0.8);\r\n      padding: 8px;\r\n      border-radius: 4px;\r\n      font-size: 11px;\r\n    }\r\n    \r\n    .legend-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n      white-space: nowrap;\r\n    }\r\n    \r\n    .legend-color {\r\n      width: 12px;\r\n      height: 12px;\r\n      border-radius: 2px;\r\n      display: inline-block;\r\n    }\r\n\r\n    /* Tooltip 样式 */\r\n    .tooltip, .map-tooltip {\r\n      position: fixed;\r\n      background: rgba(255, 255, 255, 0.95) !important;\r\n      color: #333 !important;\r\n      box-shadow: 0 2px 8px rgba(0,0,0,0.15);\r\n      border: 1px solid #ddd;\r\n      padding: 6px 10px; \r\n      border-radius: 4px; \r\n      pointer-events: none;\r\n      font-size: 13px;\r\n      z-index: 1000;\r\n    }\r\n    \r\n    /* 图例文字 */\r\n    #bubble-legend { color: var(--text-muted); }\r\n    \r\n    #panel-map {\r\n      margin-top: 100px;\r\n    }\r\n    \r\n    /* 热力图相应缩小 */\r\n    #panel-heatmap {\r\n      flex: 0.8;\r\n    }</style>\r\n</head>\r\n\r\n<body>\r\n\r\n  <!-- ===== 新增：缩放包装器 ===== -->\r\n  <div class=\"scale-wrapper\" id=\"scaleWrapper\">\r\n    <div class=\"dashboard-container\">\r\n\r\n      <header>\r\n        <div>\r\n          <h1>GLOBAL MUSIC TRENDS</h1>\r\n          <span class=\"subtitle\">2023 - 2025 音乐流派可视化</span>\r\n        </div>\r\n        <!-- 右上角小字 -->\r\n        <div style=\"font-size:12px; opacity:0.6; color:#555;\">Data Source: Internal Analytics</div>\r\n      </header>\r\n\r\n      <!-- 核心布局 -->\r\n      <main class=\"dashboard-grid\">\r\n\r\n        <!-- 【第一列】地图 & 热力 -->\r\n        <div class=\"column\">\r\n          <!-- 1. 世界地图 -->\r\n          <div id=\"panel-map\" class=\"chart-panel\">\r\n            <div class=\"panel-header\">Geographic Distribution</div>\r\n            <div class=\"chart-content\">\r\n              <div id=\"map\"></div>\r\n              <div id=\"legend\"></div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 2. 热力图 -->\r\n          <div id=\"panel-heatmap\" class=\"chart-panel\">\r\n            <div class=\"panel-header\">Trend Heatmap</div>\r\n            <div class=\"chart-content\">\r\n              <div id=\"heatmap\" style=\"width:100%; height:100%;\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 【第二列】C位：径向树 -->\r\n        <div class=\"column\">\r\n          <div id=\"panel-tree\" class=\"chart-panel\">\r\n            <div class=\"panel-header\">Genre Hierarchy</div>\r\n            <div class=\"chart-content\">\r\n              <svg id=\"tree\" style=\"width:100%; height:100%;\"></svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 【第三列】气泡 & 图片1 & 图片2 -->\r\n        <div class=\"column\">\r\n          <!-- 1. 气泡图 -->\r\n          <div id=\"panel-bubble\" class=\"chart-panel\">\r\n            <div class=\"panel-header\">Impact Bubbles</div>\r\n            <div class=\"chart-content\">\r\n              <div id=\"bubble-wrap\" style=\"width:100%; height:100%;\">\r\n                <svg id=\"bubble-svg\" preserveAspectRatio=\"xMidYMid meet\" style=\"width:100%; height:100%;\"></svg>\r\n              </div>\r\n              <div id=\"bubble-legend\"></div>\r\n              <div id=\"bubble-tooltip\" class=\"tooltip\"></div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 2. 词云图片 -->\r\n          <div id=\"panel-img-1\" class=\"chart-panel\">\r\n            <div class=\"panel-header\">Word Cloud Analysis</div>\r\n            <div class=\"chart-content\">\r\n              <img src=\"/47519b00f60340f1c2ae45f02c137ab1.png\" class=\"chart-img\" alt=\"词云图\">\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 3. 柱状图图片 -->\r\n          <div id=\"panel-img-2\" class=\"chart-panel\">\r\n            <div class=\"panel-header\">Statistical Ranking</div>\r\n            <div class=\"chart-content\">\r\n              <img src=\"/c54659760036b87115a9f98a589f519e.png\" class=\"chart-img\" alt=\"柱状图\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </main>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <!-- ===== 新增：等比缩放脚本 ===== -->\r\n  <script>(function () {\n  // 设计稿尺寸\n  var DESIGN_WIDTH = 1920;\n  var DESIGN_HEIGHT = 1080;\n  var wrapper = document.getElementById('scaleWrapper');\n  function resize() {\n    // 获取当前窗口尺寸\n    var windowWidth = window.innerWidth;\n    var windowHeight = window.innerHeight;\n\n    // 计算缩放比例（取宽高比例中较小的那个，保证完整显示）\n    var scaleX = windowWidth / DESIGN_WIDTH;\n    var scaleY = windowHeight / DESIGN_HEIGHT;\n    var scale = Math.min(scaleX, scaleY);\n\n    // 应用缩放\n    wrapper.style.transform = \"scale(\".concat(scale, \")\");\n\n    // 居中显示（如果有空白区域）\n    var scaledWidth = DESIGN_WIDTH * scale;\n    var scaledHeight = DESIGN_HEIGHT * scale;\n    var offsetX = (windowWidth - scaledWidth) / 2;\n    var offsetY = (windowHeight - scaledHeight) / 2;\n    wrapper.style.marginLeft = offsetX + 'px';\n    wrapper.style.marginTop = offsetY + 'px';\n  }\n\n  // 初始化和监听窗口变化\n  window.addEventListener('resize', resize);\n  window.addEventListener('load', resize);\n  resize(); // 立即执行一次\n})();</script>\r\n\r\n  <!-- 脚本引用 -->\r\n  <script src=\"/0364f57fbff2fabbe941ed20c328ef1a.js\"></script>\r\n  <script src=\"/bde0fbac95e015a245aea030ee3f47e3.js\"></script>\r\n  <script src=\"/0fd552d7acf0970ec34b3262fa2103d8.js\"></script>\r\n  <script src=\"/9a9569e9d73f33740eada95275da7f30.js\"></script>\r\n\r\n</body>\r\n</html>"},"sourceMaps":null,"error":null,"hash":"3ea82038376ea0692fbaae894561f9a0","cacheData":{"env":{}}}